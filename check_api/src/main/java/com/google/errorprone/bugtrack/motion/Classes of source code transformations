Project diff links:
  https://github.com/google/guice/compare/<diff-link>

Technique 1. Character line tracking
Description: Use diff information to track the source lines between two versions, matching two diagnostics if they
             occur in the same position. DIFF-INFORMATION-POS-MAPPER(oldPosition) == newPosition.

Technique 2. Tokenized line tracking
Description: Use diff information track tokenized source lines between two versions, matching diagnostics based on same
             principle as Character line tracking. This technique is slightly more expensive because we have to parse
             the AST of the source file.

Technique 3. Single AST node tracking (via start position)
Description: Use diff information derived from AST difference algorithms (Curently IJM). Match the start position of a
             diagnostic to a node in the AST of the old source file. Hope the AST matched that node in a new AST. Match
             the diagnostic if the source buffer position of the newly matched node is the same as the diagnostic start
             pos.

Techinque 4. Single AST node tracking (via start & end position)


Case 1: The line get's put over multiple lines.
Breaks: Character Line Tracking, Single tokenized line tracking
[AndroidJdkLibsChecker] java.util.Map#computeIfAbsent(K,java.util.function.Function<? super K,? extends V>) is not available in java.util.Map
  guice 875868e7263491291d4f8bdc1332bfea746ad673..9b371d3663db9db230417f3cc394e72b705d7d7f
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/util/Modules.java 240 38
    240: scopeInstancesInUse.computeIfAbsent(scope, k -> Lists.newArrayList());
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/util/Modules.java 281 19
    280: scopeInstancesInUse
    281:     .computeIfAbsent(scope, k -> Lists.newArrayList())
    282:     .add(binding.getSource());

Case 2: The line itself get's changed a bit, but the detected expression remains unchanged
Breaks: Character Line Tracking, Single tokenized line tracking
[AndroidJdkLibsChecker] java.util.Map#computeIfAbsent(K,java.util.function.Function<? super K,? extends V>) is not available in java.util.Map
  guice 875868e7263491291d4f8bdc1332bfea746ad673..9b371d3663db9db230417f3cc394e72b705d7d7f
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/internal/WeakKeySet.java 95 42
    95. Multiset<Object> sources = backingMap.computeIfAbsent(key, k -> LinkedHashMultiset.create());
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/internal/WeakKeySet.java 88 15
    88. backingMap.computeIfAbsent(key, k -> LinkedHashMultiset.create()).add(convertedSource);

Case 3: Indentation changes.
Breaks: Character Line Tracking
Doesn't break: Tokenized line tracking
[BooleanParameter] Use parameter comments to document ambiguous literals
  guice 875868e7263491291d4f8bdc1332bfea746ad673..d071802d48a50dffd89b0cfc61eff251251e637a
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/spi/Elements.java 340 75   [Detected by TokenizedLineTracker]
    340.           binder.modules.put(module, new ModuleInfo(binder, moduleSource, false));
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/spi/Elements.java 351 73
    351.         binder.modules.put(module, new ModuleInfo(binder, moduleSource, false));


Case 4:  Line with diagnostic on is deemed as "deleted" from the source file
Breaks: Definately Character&Token line tracking, maybe not node tracking
[InconsistentOverloads] The parameters of this method are inconsistent with other overloaded versions. A consistent order would be: <init>(String message, Throwable cause, List<Object> sources)
  guice 875868e7263491291d4f8bdc1332bfea746ad673..d071802d48a50dffd89b0cfc61eff251251e637a
  /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/spi/Message.java 50 10
    50. public Message(List<Object> sources, String message, Throwable cause) {
 /home/monty/IdeaProjects/java-corpus/guice/core/src/com/google/inject/spi/Message.java 60 10
    60. public Message(List<Object> sources, String message, Throwable cause) {
 Probable cause of problem:
    d071 Message.java 52. public Message(ErrorId errorId, List<Object> sources, String message, Throwable cause) {
 The above introduced line since it's similar to 8758 line 50 confuses the diff algorithm

Case 5: The error is not bound to specific source code
Breaks: All so far
Example: ([DefaultPackage if it ever occured in the wild)
[MissingSummary] A summary line is required on public/protected Javadocs.
  mybatis3 1385892b6d0034485ac31a4f8a4a438ad2f5ad55..b3c5ffae3d9d7cb3062ea12f2606909cd4b9e9c8
  /home/monty/IdeaProjects/java-corpus/mybatis-3/src/test/java/org/apache/ibatis/type/GenericTypeSupportedInHierarchiesTestCase.java
  Error prone reports the line number as '-1' for MissingSummary hence any position tracking fails.

Interesting diff point:
    Case 6: Start pos token changes
    [ClassNamedLikeTypeParameter] The class's name looks like a Type Parameter
      guice 875868e7263491291d4f8bdc1332bfea746ad673..b7cadc1cfa0623ad377c274eb8db278e3e9a7054
      /home/monty/IdeaProjects/java-corpus/guice/core/test/com/google/inject/internal/ProxyFactoryTest.java 159 10 4705 4825
        159. static class A {
      /home/monty/IdeaProjects/java-corpus/guice/core/test/com/google/inject/internal/ProxyFactoryTest.java 169 17 4982 5109
        169. public static class A {
      Case of problem:
        Implementation problem since our AST diff algorithm currently uses a different AST representation JDT to javac's JC.
        To solve this we created the 'JDTtoJCPosMapper'

Case 7. Two diagnostics generated with same start position
  Breaks: All but 4
  [AndroidJdkLibsChecker] java.time.ZomedDateTime is not available
    mybatis3 2065ebbfd79ba3a54568d6767963b1d5b31a54ad..638a00c9c91cf87a740d9b9e680acefc7685e273
      /home/monty/IdeaProjects/java-corpus/mybatis-3/src/test/java/org/apache/ibatis/type/ZonedDateTimeTypeHandlerTest.java 40 33 1388 1401
        40. ...'ZonedDateTime'...
     Matches with both:
      /home/monty/IdeaProjects/java-corpus/mybatis-3/src/test/java/org/apache/ibatis/type/ZonedDateTimeTypeHandlerTest.java 40 46 1388 1407
        40. ...'ZoneDateTime.class'...
      /home/monty/IdeaProjects/java-corpus/mybatis-3/src/test/java/org/apache/ibatis/type/ZonedDateTimeTypeHandlerTest.java 40 46 1388 1401
        40. ...'ZoneDateTime'...

Case 8. import statics aren't registed in the AST shape (either JDT or spoon) so in specific scenarios can break...
[WildcardImport] Wildcard imports, static or otherwise, should not be used
  mybatis3 0bbefb25236a4c6aaab3a2138aa71d3de2615e8c..b4a235b4e1583fd07a41322cbdae94fbee979498
     /home/monty/IdeaProjects/java-corpus/mybatis-3/src/test/java/org/apache/ibatis/executor/loader/JavassistProxyTest.java 33 1 1217 1266
     /home/monty/IdeaProjects/java-corpus/mybatis-3/src/test/java/org/apache/ibatis/executor/loader/JavassistProxyTest.java 18 1 694 743